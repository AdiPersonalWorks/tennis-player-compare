package dk.tennis.compare.rating.multiskill.model.perfdiff.skillsfactor.cov.opponent

import org.junit._
import Assert._
import scala.math._
import dk.tennis.compare.rating.multiskill.model.perfdiff.Player

class OpponentCovFuncTest {

  @Test def test {

    val params = Array(log(10), log(0.6))
    val skillsOnServeGivenOpponentMap: Map[String, Seq[Double]] = Map(
      "p1" -> Array(5.000144002624012, 4.280354136653098, 5.000144002624012, 4.869916717950551, 5.000144002624012, 5.96037447269428, 4.280354136653098, 5.000144002624012, 4.280354136653098, 4.869916717950551, 4.280354136653098, 5.96037447269428, 4.869916717950551, 5.000144002624012, 4.869916717950551, 4.280354136653098, 4.869916717950551, 5.96037447269428, 5.96037447269428, 5.000144002624012, 5.96037447269428, 4.280354136653098, 5.96037447269428, 4.869916717950551),
      "p2" -> Array(4.501237906694661, 4.999999820582227, 4.501237906694661, 4.892329420924054, 4.501237906694661, 5.848821964833088, 4.999999820582227, 4.501237906694661, 4.999999820582227, 4.892329420924054, 4.999999820582227, 5.848821964833088, 4.892329420924054, 4.501237906694661, 4.892329420924054, 4.999999820582227, 4.892329420924054, 5.848821964833088, 5.848821964833088, 4.501237906694661, 5.848821964833088, 4.999999820582227, 5.848821964833088, 4.892329420924054),
      "p3" -> Array(5.882415068360534, 4.617145521734355, 5.882415068360534, 4.999995668286587, 5.882415068360534, 5.4842763583070475, 4.617145521734355, 5.882415068360534, 4.617145521734355, 4.999995668286587, 4.617145521734355, 5.4842763583070475, 4.999995668286587, 5.882415068360534, 4.999995668286587, 4.617145521734355, 4.999995668286587, 5.4842763583070475, 5.4842763583070475, 5.882415068360534, 5.4842763583070475, 4.617145521734355, 5.4842763583070475, 4.999995668286587),
      "p4" -> Array(6.002867356516143, 4.442410009869201, 6.002867356516143, 4.574405888405815, 6.002867356516143, 5.0001156321774864, 4.442410009869201, 6.002867356516143, 4.442410009869201, 4.574405888405815, 4.442410009869201, 5.0001156321774864, 4.574405888405815, 6.002867356516143, 4.574405888405815, 4.442410009869201, 4.574405888405815, 5.0001156321774864, 5.0001156321774864, 6.002867356516143, 5.0001156321774864, 4.442410009869201, 5.0001156321774864, 4.574405888405815))

    val skillOnReturnGivenOpponentMap: Map[String, Seq[Double]] = skillsOnServeGivenOpponentMap

    val cov = new OpponentCovFunc(params, skillsOnServeGivenOpponentMap, skillOnReturnGivenOpponentMap)

    val m = cov.opponentOnReturnSimMatrix(List("p1", "p2", "p3", "p4"))

    println(m)
  }

}